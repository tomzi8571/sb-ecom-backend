# Production profile - override any base properties here

# Production DB - prefer environment variables set by the platform (Render uses env vars)
spring.datasource.url=${JDBC_DATABASE_URL:}
spring.datasource.username=${JDBC_DATABASE_USERNAME:}
spring.datasource.password=${JDBC_DATABASE_PASSWORD:}
spring.jpa.database-platform=${JDBC_DATABASE_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
spring.jpa.properties.hibernate.dialect=${JDBC_DATABASE_DIALECT:org.hibernate.dialect.PostgreSQLDialect}

logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.org.springframework.security=INFO
logging.level.com.ecommerce.project=INFO

spring.app.secureCookie=true

frontend.url=${FRONT_END_URL:}
spring.app.jwtSecret=${JWT_SECRET:}

# Runtime server port: Render provides a SERVER_PORT env var. Use it if present, otherwise default to 8080.
server.port=${PORT:5000}

## Actuator configuration - expose only the endpoints we need. Protect these in production!
## Add actuator endpoints to the web exposure list. Keep this minimal in prod.
#management.endpoints.web.exposure.include=health,info,env,configprops
#
## Allow env endpoint to show values (WARNING: reveals values; keep restricted and sanitized)
#management.endpoint.env.show-values=true
#
## Keys to sanitize in actuator env/configprops output (common secrets)
#management.endpoint.env.keys-to-sanitize=password,secret,token,key,credential,jwt,api_key
#management.endpoint.configprops.keys-to-sanitize=password,secret,token,key,credential,jwt,api_key

# Image base
image.base.url=${IMAGE_BASE_URL:http://localhost:8080/images}