# application.properties (base)
# Use profile-specific files (application-local.properties, application-prod.properties) to override these values.

spring.application.name=sb-ecom

# H2 In memory test db config
#spring.h2.console.enabled=true
#spring.datasource.url=jdbc:h2:mem:test

spring.datasource.url=${JDBC_DATABASE_URL:jdbc:mysql://localhost:3306/ecommerce}
spring.datasource.username=${JDBC_DATABASE_USERNAME:root}
spring.datasource.password=${JDBC_DATABASE_PASSWORD:root1234}
spring.jpa.database-platform=${JDBC_DATABASE_DIALECT:org.hibernate.dialect.MySQLDialect}
spring.jpa.properties.hibernate.dialect=${JDBC_DATABASE_DIALECT:org.hibernate.dialect.MySQLDialect}
#spring.jpa.properties.hibernate.dialect=${JDBC_DATABASE_DIALECT:org.hibernate.dialect.PostgreSQLDialect}
#spring.jpa.properties.hibernate.dialect=${JDBC_DATABASE_DIALECT:org.hibernate.dialect.MySQLDialect}
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

project.image=images/

spring.app.jwtExpirationMs=3000000
# Recommended: Use at least 32 bytes (to 64 bytes) for JWT secret key
spring.app.jwtSecret=${JWT_SECRET:mySecretKeyMustBeAtleast32Bytes}
spring.app.secureCookie=true
spring.ecom.app.jwtCookieName=springBootEcomJwtAuth

# Logging levels
logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=OFF
logging.level.org.springframework.security=INFO
logging.level.com.ecommerce.project=INFO

# Payment provider - Stripe API key
stripe.secret.key=${STRIPE_SECRET_KEY:sk_test_takeKeyFromStripeDashboard}

# Frontend URL for CORS configuration (Cross-Origin Resource Sharing)
frontend.url=${FRONT_END_URL:http://localhost:5173,http://localhost:3000,https://tomzi8571.github.io/sb-ecom-frontend/}

# Backend Server port
server.port=${PORT:8080}

# This is the Url under which the images will be served
image.base.url=${IMAGE_BASE_URL:http://localhost:8080/images}

## Actuator configuration - expose only the endpoints we need. Protect these in production!
## Add actuator endpoints to the web exposure list. Keep this minimal in prod.
#management.endpoints.web.base-path=/actuator
#management.endpoints.web.exposure.include=health,info,env,configprops
#
## Allow env endpoint to show values (WARNING: reveals values; keep restricted and sanitized)
#management.endpoint.env.show-values=true
#
## Keys to sanitize in actuator env/configprops output (common secrets)
#management.endpoint.env.keys-to-sanitize=password,secret,token,key,credential,jwt,api_key
#management.endpoint.configprops.keys-to-sanitize=password,secret,token,key,credential,jwt,api_key

# Increase actuator logging to help debugging endpoint registration
logging.level.org.springframework.boot.actuate=DEBUG
